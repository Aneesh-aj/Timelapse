<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css" class="style">
    <title>Product-adding</title>
</head>
<body>
    <%- include('navbar2.ejs') %>
   <content class="nav-height">
       <div class="container-fluid   " id="body-color">
           <div class=" d-flex h-auto  profile-main">
               <div class="profile-div ">
                    <div class="profile-photo d-flex align-items-center ">
                        <div class=" hii d-flex justify-content-center align-items-center">
                             <div class="profile-picture " style="background-image: url(https://cdn-icons-png.flaticon.com/128/3001/3001764.png); background-repeat: no-repeat; background-size: cover;"></div>
                        </div>
                        <div class=" hello d-flex align-items-center">
                         <span><a href="/admin" style="text-decoration: none; outline: none; color: black;"  >Admin</a></span>
                        </div>
                    </div>
                    <div class="profile-selection">
                     <div class="selector  d-flex align-items-center">
                        <div class=" hii d-flex align-items-center justify-content-center">
                               <div class="selector-image" style="background-image: url(https://cdn-icons-png.flaticon.com/128/8089/8089114.png); "></div>
                       </div>
                        <div class="hello d-flex align-items-center">
                                <span>order details</span>
                         </div>
                     </div>
                     <div class="line"></div>
                     <div class="selector  d-flex align-items-center">
                      <div class=" hii  d-flex align-items-center justify-content-center">
                             <div class="selector-image" style="background-image: url(https://cdn-icons-png.flaticon.com/128/4379/4379608.png); "></div>
                     </div>
                      <div class=" hello d-flex align-items-center">
                               <span>product</span>
                       </div>
                     </div>
                     <div class="line"></div>
                     <div class="selector  d-flex align-items-center align-items-center">
                         <div class="hii d-flex justify-content-center align-items-center">
                             <div class="selector-image bg-light" style="background-image: url(https://6cdn-icons-png.flaticon.com/128/2435/2435281.png); "></div>
                         </div>
                      <div class="hello d-flex align-items-center">
                                <span>user</span>
                         </div>
                      </div>
                     <div class="line"></div>
                     <div class="selector  d-flex align-items-center align-items-center">
                      <div class="hii d-flex justify-content-center align-items-center">
                          <div class="selector-image bg-light" style="background-image: url(https://cdn-icons-png.flaticon.com/128/2435/2435281.png); "></div>
                        </div>
                        <div class="hello d-flex align-items-center">
                            <span>Coupen</span>
                        </div>
                    </div>
                     <div class="line"></div>
                  </div>
                </div>
                <div class="profile-div2 me-5 " style="height: auto; margin-bottom: 15px;">             
                    <form action="/admin/product-managment/edit/submit?id=<%= product._id %>" method="post" enctype="multipart/form-data" >
                        <div class="w-100 h-100 ">
                            <div class="w-100 d-flex ">
                             <div class="product-img mt-5">
                                 <div class=" " style="width: 60%; height: 2.5rem; margin-left: 5rem;">
                                      <h5>product-image:</h5>
                                 </div>
                                 <div class=" " style="width: 50%; height: 13rem; margin-left: 5rem; background-color: rgb(163, 163, 163); border: black solid 1px;">
                                    <input type="file" accept=".jpg, .jpeg, .png , .webp" onchange="checkImageCount()" name="filename" multiple>
                                 </div>
                             </div>
                             <div class="product-img-side mt-5">
                                 <div class=" d-flex " style="width: 60%; height: 2.5rem; ">
                                     <h5>product-name:</h5>
                                 </div>
                                 <div class=" " style="width: 60%; height: 2.5rem;  ">
                                      <input class="w-100 h-100 ps-3" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);"  name="product_name" value="<%=product.product_name %>">
                                      <input type="hidden" name="_id" value="<%= product._id %>">
    
                                 </div>
                                 <div class=" " style="width: 60%; height: 2.5rem;margin-top: 20px;">
                                     <h5>product price:</h5>
                                 </div>
                                 <div class=" " style="width: 60%; height: 2.5rem; ">
                                    <input onchange="amountcheking()" class="w-100 h-100 ps-3"for="price" name="price" value="<%= product.price %>" required style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" >
                                </div>
                                 <div class=" " style="width: 60%; height: 2.5rem;margin-top: 20px;">
                                     <h5>Category:</h5>
                                 </div>
                                 <div class=" " style="width: 60%; height: 2.5rem; ">
                                      <!-- <input class="w-100 h-100 " style="border-radius: 3px; background-color: rgb(237, 237, 237);"> -->
                                      <select class="form-select w-100 h-100 "  name="watch_type" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" aria-label="Default select example">
                                        <option value="<%= product.watch_type ? product.watch_type._id : '' %>"><%= product.watch_type ? product.watch_type.watch_type : '' %></option>
                                        <% for(let i=0; i < watchtype.length ;i++){ %>
                                            <option value="<%= watchtype[i]._id %>"><%= watchtype[i].watch_type %></option>
                                        <% } %>
                                      </select>
                                 </div>
                                 <div class=" " style="width: 60%; height: 2.5rem;margin-top: 20px;">
                                     <h5>Brand</h5>
                                 </div>
                                 <div class=" " style="width: 60%; height: 2.5rem; ">
                                    <select class="form-select w-100 h-100 "  name="brand" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" aria-label="Default select example">
                                        <option value="<%= product.brand ? product.brand._id : '' %>"><%= product.brand ? product.brand.brand_category : '' %></option>
                                        <% for(let i=0; i < brands.length ;i++){ %>
                                            <option value="<%= brands[i]._id %>"><%= brands[i].brand_category %></option>
                                        <% } %>
                                      </select>
                                </div>
         
                             </div>  
                          </div> 
                          <div class="w-100 " style="padding-left: 5rem;">
                               <div class=" " style="width: 60%; height: 2.5rem;  ">
                                  <h5>product Discription</h5>
                               </div>
                               <div class="" style="width: 60%;    ">
                                  <input class="w-100  ps-3" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2); height: 7rem;" name="discription" value="<%=product.discription %>">
                             </div>
                         
                              <div class="product-img2">
                                 <div class=" mt-3  d-flex  " style="height: 2.5rem;  ">
                                     <h5 class= "d-flex align-items-center text-details product-img-side2">Display type  :</h5>
                                     <input class="w-100 h-100 ps-3" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);"name="display_type" value="<%= product.display_type %>">
                                  </div>
                                  <div class=" mt-3  d-flex  " style="height: 2.5rem;  ">
                                     <h5 class= "d-flex align-items-center text-details product-img-side2">Strap color   :</h5>
                                     <input class="w-100 h-100 ps-3" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="strap_color" value="<%= product.strap_color %>">
                                  </div>
                                  <div class=" mt-3  d-flex  " style="height: 2.5rem;  ">
                                     <h5 class= "d-flex align-items-center text-details product-img-side2">Dial color    :</h5>
                                     <input class="w-100 h-100 ps-3" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);"name="dial_color" value="<%= product.dial_color %>">
                                  </div>
                                  <div class=" mt-3  d-flex  " style="height: 2.5rem;  ">
                                     <h5 class= "d-flex align-items-center text-details product-img-side2">Gender        :</h5>
                                     <input class="w-100 h-100 ps-3 " style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="gender" value="<%= product.gender %>">
                                  </div>
                                  <div class=" mt-3  d-flex  " style="height: 2.5rem;  ">
                                     <h5 class= "d-flex align-items-center text-details product-img-side2">Shape         :</h5>
                                     <input class="w-100 h-100 ps-3" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="shape" value="<%= product.shape %>">
                                  </div>
                                  <div class=" mt-3  d-flex  " style="height: 2.5rem;  ">
                                     <h5 class= "d-flex align-items-center text-details product-img-side2">Case          :</h5>
                                     <input class="w-100 h-100 ps-3 " style="  border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="watch_case" value="<%= product.watch_case%>">
                                  </div>
                                  <div class=" mt-3  d-flex  " style="height: 2.5rem;  ">
                                    <h5 class= "d-flex align-items-center text-details product-img-side2">Stock         :</h5>
                                    <input class="w-100 h-100 ps-3 " for="stock" style="  border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="stock" value="<%=product.stock %>">
                                  </div>
                                  <div class=" mt-3  d-flex  " style="height: 2.5rem;  ">
                                    <h5 class= "d-flex align-items-center text-details product-img-side2">Offer        :</h5>
                                    <input class="w-100 h-100 ps-3" onchange="amountcheking()" for="offer" id="offer" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" placeholder="flate offer  " name="offer" value="<%=product.discountedprice %>" >
                                 </div>
                                 
             
                                  <div class="  d-flex justify-content-center m-4"><button type="submit" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2); background-color: rgb(49, 49, 252);">Add product</button></div>
                              </div>
                          </div>
                       </div>
                    </form>
                  
                </div>
               
            </div>
        
       </div>
       
   </content>
   <footer>
      <div class="container-fluid footer-color">
         <div class="container d-flex ">
               <div class="">
                    <div class="footer-div1 d-flex justify-content-center">
                         <h1 class="heading  pt-4">About us</h1>
                    </div>
                   <div class="footer-div1">
                
                       <p class="p-2">Welcome to Watch Universe, your ultimate destination for exquisite timepieces. At Watch Universe, we're passionate about bringing you the finest selection of watches that blend elegance, precision, and style.Our journey started with a love for craftsmanship and a desire to share the world's most stunning watches with watch enthusiasts and collectors alike.</p>
                       
                   </div>
               </div>
         </div>
      </div>
      <div class="container-fluid footer-color d-flex justify-content-center">
        <p class="p-5">&copy; 2023 All rights reserved.Desined by Aneesh</p>
      </div>
   </footer>
   <script>
    function checkImageCount() {

           console.log("enterring")
         const input = document.querySelector('input[type="file"]');
         const selectedFiles = input.files;

         if (selectedFiles.length > 4) {
              Swal.fire({
                 icon: 'error',
                 title: 'Oops...',
                 text: 'You can select up to 4 images.',
             });
             input.value = null; // Clear the input
         }
     }
     function amountcheking(){
         const price = document.querySelector('input[name="price"]')
         const offer = document.querySelector('input[name="offer"]')
          

           
         
         if(parseInt(offer.value) >= parseInt(price.value) - 3){
             Swal.fire({
                 icon:'error',
                 title:'invalid offer',
                 text:'offer amount should be less than price'
             })
             document.getElementById('offer').value = 0
         }
     }

</script>
</body>
</html>