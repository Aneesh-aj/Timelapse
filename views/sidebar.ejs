<!DOCTYPE html>
<html lang="en">

<head>
  <title>Responsive Sidebar</title>
  <!-- Link Styles -->
 <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css">
</head>

<body>

  
  <div class="  sidebar open  ">
    <div class="bg-white side-subdiv d-flex align-items-center justify-content-center" style="    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
    " >
      <div class="" style="height: 40%; width: 40%;">
           <img src="/profile (1).png" alt="" style="object-fit: contain;">
      </div>
      <div class="w-50 ms-2">
          <h5 class="heading">user</h5>
      </div>
  
    </div>
    <div class="  side-subdiv2 " >
      <div class="logo_details ">
        <div class="logo_name"></div>
        <i class="bx bx-menu" id="btn"></i>
      
      </div>
      <ul class="nav-list">

        <li>
          <a href="/profile">
            <i class="bx bx-user"></i>
            <span class="link_name">profile</span>
          </a>
        </li>
        <hr>
        <li>
          <a href="/order">
            <i class="bx bx-cart-alt"></i>
            <span class="link_name">Order</span>
          </a>

        </li>
        <hr>
        <li>
          <a href="/wishlist">
            <i class="bx bx-heart"></i>
            <span class="link_name">wishlist</span>
          </a>
        </li>
        <hr>
        <li>
          <a href="/wallet">
            <i class="bx bx-wallet"></i>
            <span class="link_name">wallet</span>
          </a>
        </li>
        <hr>
       
        
       
      </ul>
    </div>
           
        
       
       
    </div>
    
  

 
  <!-- Scripts -->
  <script>


document.getElementById('postButton').addEventListener('click', function() {
  fetch('/logout', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
  })
  .then(response => {
    if (response.ok) {
      return response.json();
    } else {
      throw new Error('POST request failed');
    }
  })
  .then(data => {
    if (data.success) {
      console.log('Logout successful');
       window.location.href='/home'
    } else {
      console.error('Logout failed');
    }
  })
  .catch(error => {
    console.error('Error:', error);
  });
});


window.onload = function () {
      const sidebar = document.querySelector(".sidebar");
      const closeBtn = document.querySelector("#btn");

      closeBtn.addEventListener("click", function () {
        sidebar.classList.toggle("open")
        menuBtnChange()
      })

      

      // Call the checkScreenSize function on page load
      checkScreenSize();

      // Call the checkScreenSize function whenever the window is resized
      window.addEventListener("resize", checkScreenSize);

      function checkScreenSize() {
        // Get the current window width
        const windowWidth = window.innerWidth;
        console.log("---",windowWidth)
        console.log(window.innerWidth)

        // If the window width is less than 1200px, remove the "open" class
        if (windowWidth < 1200) {
          sidebar.classList.remove("open");
        } else {
          sidebar.classList.add("open");
        }
      }

      function menuBtnChange() {
        if (sidebar.classList.contains("open")) {
          closeBtn.classList.replace("bx-menu-alt-right", "bx-menu")
        } else {
          closeBtn.classList.replace("bx-menu", "bx-menu-alt-right")
        }
      }
    }
  </script>
</body>

</html>