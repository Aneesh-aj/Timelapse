<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="/style.css" class="style">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <title>Product-adding</title>
</head>
<body>
      <%- include('navbar2.ejs') %>
   <content class="nav-height">
       <div class="container-fluid   " id="body-color">
           <div class=" d-flex h-auto  profile-main">
               <div class="profile-div ">
                   <div class="profile-photo d-flex align-items-center ">
                       <div class=" hii d-flex justify-content-center align-items-center">
                            <div class="profile-picture " style="background-image: url(https://cdn-icons-png.flaticon.com/128/3001/3001764.png); background-repeat: no-repeat; background-size: cover;"></div>
                       </div>
                       <div class=" hello d-flex align-items-center">
                        <span><a href="/admin" style="text-decoration: none; outline: none; color: black;"  >Admin</a></span>
                       </div>
                   </div>
                   <div class="profile-selection">
                    <div class="selector  d-flex align-items-center">
                       <div class=" hii d-flex align-items-center justify-content-center">
                              <div class="selector-image" style="background-image: url(https://cdn-icons-png.flaticon.com/128/8089/8089114.png); "></div>
                      </div>
                       <div class="hello d-flex align-items-center">
                               <span>order details</span>
                        </div>
                    </div>
                    <div class="line"></div>
                    <div class="selector  d-flex align-items-center">
                     <div class=" hii  d-flex align-items-center justify-content-center">
                            <div class="selector-image" style="background-image: url(https://cdn-icons-png.flaticon.com/128/4379/4379608.png); "></div>
                    </div>
                     <div class=" hello d-flex align-items-center">
                              <span>product</span>
                      </div>
                    </div>
                    <div class="line"></div>
                    <div class="selector  d-flex align-items-center align-items-center">
                        <div class="hii d-flex justify-content-center align-items-center">
                            <div class="selector-image bg-light" style="background-image: url(https://cdn-icons-png.flaticon.com/128/2435/2435281.png); "></div>
                        </div>
                     <div class="hello d-flex align-items-center">
                               <span>user</span>
                        </div>
                     </div>
                    <div class="line"></div>
                    <div class="selector  d-flex align-items-center align-items-center">
                     <div class="hii d-flex justify-content-center align-items-center">
                         <div class="selector-image bg-light" style="background-image: url(https://cdn-icons-png.flaticon.com/128/2435/2435281.png); "></div>
                     </div>
                    <div class="hello d-flex align-items-center">
                            <span>Coupen</span>
                     </div>
                   </div>
                    <div class="line"></div>
                 </div>
               </div>
               <div class="profile-div2  " style="height: auto; margin-bottom: 15px;">             
                <form method="post" action="/admin/product-managment/adding" enctype="multipart/form-data" onsubmit="return validateForm()">
                    <div class="w-100 h-100">
                        <div class="w-100 d-flex">
                            <div class="product-img mt-5">
                                <div class=" " style="width: 60%; height: 2.5rem; margin-left: 5rem;">
                                    <h5>product-image:</h5>
                                </div>
                                <div class=" " style="width: 50%; height: 13rem; margin-left: 5rem; background-color: rgb(163, 163, 163); border: black solid 1px;">
                                    <input type="file" accept=".jpg, .jpeg, .png, .webp" name="product_image" multiple>
                                    <div class="error-message" id="productImageError"></div>

                                </div>
                            </div>
                            <div class="product-img-side mt-5">
                                <div class="d-flex " style="width: 60%; height: 2.5rem;">
                                    <h5>product-name:</h5>
                                </div>
                                <div class=" " style="width: 60%; height: 2.5rem;">
                                    <input class="w-100 h-100" for="product_name" name="product_name" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);">
                                    <div class="error-message" id="productNameError"></div>

                                </div>
                                <div class=" " style="width: 60%; height: 2.5rem;margin-top: 20px;">
                                    <h5>product price:</h5>
                                </div>
                                <div class=" " style="width: 60%; height: 2.5rem;">
                                    <input class="w-100 h-100" for="price" name="price"  style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);">
                                </div><div class="error-message" id="productPriceError"></div>
                                <div class=" " style="width: 60%; height: 2.5rem;margin-top: 20px;">
                                    <h5>Category:</h5>
                                </div>
                                <div class=" " style="width: 60%; height: 2.5rem;">
                                    <select class="form-select w-100 h-100" name="watch_type" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" aria-label="Default select example">

                                        <option value="" selected>Choose a watch type</option>
                                        <% for (let i = 0; i < watchtype.length; i++) { %>
                                            <option value="<%= watchtype[i]._id %>"><%= watchtype[i].watch_type %></option>
                                        <% } %>
                                    </select>
                                    <div class="error-message" id="watchTypeError"></div>
                                </div>
                                <div class=" " style="width: 60%; height: 2.5rem;margin-top: 20px;">
                                    <h5>Brand</h5>
                                </div>
                                <div class=" " style="width: 60%; height: 2.5rem;">
                                    <select class="form-select w-100 h-100" name="brand"  style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" aria-label="Default select example">
                                        <option value="" selected>Choose a brand</option>
                                        <% for (let i = 0; i < brands.length; i++) { %>
                                            <option value="<%= brands[i]._id %>"><%= brands[i].brand_category %></option>
                                        <% } %>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="w-100" style="padding-left: 5rem;">
                            <div class=" " style="width: 60%; height: 2.5rem;">
                                <h5>product Description</h5>
                            </div>
                            <div class="" style="width: 60%;">
                                <input class="w-100" for="discription" name="discription"  style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2); height: 7rem;">
                                <div class="error-message" id="brandError"></div>
                            </div>
                            <div class="product-img2">
                                <div class="mt-3 d-flex" style="height: 2.5rem;">
                                    <h5 class="d-flex align-items-center text-details product-img-side2">Display type :</h5>
                                    <input class="w-100 h-100" for="display_type" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="display_type">
                                </div>
                                <div class="mt-3 d-flex" style="height: 2.5rem;">
                                    <h5 class="d-flex align-items-center text-details product-img-side2">Strap color :</h5>
                                    <input class="w-100 h-100" for="strap_color" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="strap_color">
                                </div>
                                <div class="mt-3 d-flex" style="height: 2.5rem;">
                                    <h5 class="d-flex align-items-center text-details product-img-side2">Dial color :</h5>
                                    <input class="w-100 h-100" for="dial_color" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="dial_color">
                                </div>
                                <div class="mt-3 d-flex" style="height: 2.5rem;">
                                    <h5 class="d-flex align-items-center text-details product-img-side2">Gender :</h5>
                                    <input class="w-100 h-100" for="gender" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="gender">
                                </div>
                                <div class="mt-3 d-flex" style="height: 2.5rem;">
                                    <h5 class="d-flex align-items-center text-details product-img-side2">Shape :</h5>
                                    <input class="w-100 h-100" for="shape" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="shape">
                                </div>
                                <div class="mt-3 d-flex" style="height: 2.5rem;">
                                    <h5 class="d-flex align-items-center text-details product-img-side2">Case :</h5>
                                    <input class="w-100 h-100" for="watch_case" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="watch_case">
                                </div>
                                <div class="mt-3 d-flex" style="height: 2.5rem;">
                                    <h5 class="d-flex align-items-center text-details product-img-side2">Stock :</h5>
                                    <input class="w-100 h-100" for="stock" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="stock">
                                </div>
                                <div class="mt-3 d-flex" style="height: 2.5rem;">
                                    <h5 class="d-flex align-items-center text-details product-img-side2">Offer :</h5>
                                    <input class="w-100 h-100" for="offer" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);" name="offer">
                                </div>
                                <div class="d-flex justify-content-center m-4">
                                    <button type="submit" style="border-radius: 3px; border: 0.4px rgb(190, 189, 189) solid; box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2); background-color: rgb(49, 49, 252);">Add Product</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
               </div>
              
           </div>
       </div>
       
   </content>
   <footer>
      <div class="container-fluid footer-color">
         <div class="container d-flex ">
               <div class="">
                    <div class="footer-div1 d-flex justify-content-center">
                         <h1 class="heading  pt-4">About us</h1>
                    </div>
                   <div class="footer-div1">
                
                       <p class="p-2">Welcome to Watch Universe, your ultimate destination for exquisite timepieces. At Watch Universe, we're passionate about bringing you the finest selection of watches that blend elegance, precision, and style.Our journey started with a love for craftsmanship and a desire to share the world's most stunning watches with watch enthusiasts and collectors alike.</p>
                       
                   </div>
               </div>
         </div>
      </div>
      <div class="container-fluid footer-color d-flex justify-content-center">
        <p class="p-5">&copy; 2023 All rights reserved.Desined by Aneesh</p>
      </div>
   </footer>
   <script>
       function checkImageCount() {

              console.log("enterring")
            const input = document.querySelector('input[type="file"]');
            const selectedFiles = input.files;

            if (selectedFiles.length > 4) {
                 Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'You can select up to 4 images.',
                });
                input.value = null; // Clear the input
            }
        }

        function validateForm() {
            const productName = document.getElementsByName("product_name")[0].value;
            const productPrice = document.getElementsByName("price")[0].value;
            const productImage = document.getElementsByName("product_image")[0].files;
            const watchType = document.getElementsByName("watch_type")[0].value;
            const brand = document.getElementsByName("brand")[0].value;
            const description = document.getElementsByName("discription")[0].value;

            // Clear previous error messages
            document.getElementById("productNameError").textContent = "";
            document.getElementById("productPriceError").textContent = "";
            document.getElementById("productImageError").textContent = "";
            document.getElementById("watchTypeError").textContent = "";
            document.getElementById("brandError").textContent = "";
            document.getElementById("descriptionError").textContent = "";

            let hasErrors = false;

            if (productName.trim() === "") {
                document.getElementById("productNameError").textContent = "Product name is required.";
                hasErrors = true;
            }

            if (isNaN(productPrice) || parseFloat(productPrice) <= 0) {
                document.getElementById("productPriceError").textContent = "Price must be a valid positive number.";
                hasErrors = true;
            }

            if (productImage.length === 0) {
                document.getElementById("productImageError").textContent = "Select at least one product image.";
                hasErrors = true;
            }

            if (watchType === "") {
                document.getElementById("watchTypeError").textContent = "Select a watch type.";
                hasErrors = true;
            }

            if (brand === "") {
                document.getElementById("brandError").textContent = "Select a brand.";
                hasErrors = true;
            }

            if (description.trim() === "") {
                document.getElementById("descriptionError").textContent = "Product description is required.";
                hasErrors = true;
            }

            return !hasErrors;
        }
   </script>
</body>
</html>